import { Search } from './features/search'
import type { BriefingData } from './features/briefing/types'

type Props = {
  handleSearchResult: (
    query: string,
    brief?: BriefingData | null,
    message?: string
  ) => void
  onLogoClick: () => void
}

export default function Header({ handleSearchResult, onLogoClick }: Props) {
  const handleLogoClick = (e: React.MouseEvent<HTMLAnchorElement>) => {
    e.preventDefault()
    onLogoClick()
  }

  return (
    <header className="">
      <div className=" px-4 py-2 grid grid-cols-[auto_auto_1fr] items-center gap-2  text-logo-color s">
        {/* Left: Logo / future sidebar entry */}
        <a
          href="/"
          className="flex items-center text-lg hover:scale-102 transition-transform duration-200 ease-out cursor-pointer"
          onClick={handleLogoClick}
        >
          <svg
            className="w-6 h-6 mr-2"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 1210 1210"
            aria-hidden="true"
            focusable="false"
          >
            <g fill="currentColor" stroke="none">
              <path
                d="M266.1,321.9c88.7,0,160.1-72.6,160.1-160.9c0-88.8-71.4-160.5-160.1-160.5S106,72.9,106,160.9
			C106,250.1,178.1,321.9,266.1,321.9z M270.7,38.2c59,0,106.1,47.9,106.1,106.1c0,58.7-47.1,106.1-106.1,106.1
			c-58.6,0-106.5-47.5-106.5-106.1C164.2,85.3,212.1,38.2,270.7,38.2z"
              />
              <path d="M169.6,450.8c-17.3-0.4-48.6,7.7-36.3,25.5c17,24.7,49.8-15.8,47.1-22.8C179.7,451.5,175.4,450.8,169.6,450.8z" />
              <path
                d="M477.5,881.1c-1.6,8.1-6.2,6.9-10.4,2.7c-34-37-64.8-53.6-115-82.6c-50.2-29.7-83.7-69.1-89.9-108.5
			c-6.2-39.4,8.5-91.9,79.1-188.7c5-6.5,7.7-9.6,14.3-9.3c6.6,0.4,17,4.6,37,12c-3.1,64.5-19.3,101.1-25.5,133.5
			c-7,33.6,30.5,41.3,63.3,33.2c32.8-8.1,64-42.4,77.6-135.5c13.1,3.1,23.5,4.6,36.6,6.5c1.5,96.5,7.3,118.5,11.2,127
			c7.7,18.1,25.5,25.9,39.7,27.1c5.4,0.4,16.7,0.8,22,1.1v-33.9c-5.2-0.5-15.6,0-19-0.5c-7.7-1.2-15.4-0.3-19.7-20.8
			c-4.6-23.6-5-67.2-7-96.1c13.1,1.8,32.4,3.2,45.6,4.4v-33.6c-107.2-10-225.2-41.7-314.9-83.5c-18.9-8.9-9.3-12.7-1.2-17.4
			c40.9-22.4,76.4-42.8,98.4-78.7c16.6-27,10.4-35.5-8.1-20.8c-49.4,41.3-120,64.1-198.3,35.9C114.4,326.5,84,250.1,77,231.2
			c-3.5-9.7-7.7-14.7-11.2-14.3c-3.1,0.8-5.8,7.3-5.8,21.6c0,71.4,31.3,114.3,42.1,126.2c10.8,12,15.8,24.3,10,31.3
			c-15.8,18.2-32.4,38.6-32.8,46.7c-0.8,8.9,0,13.1-3.5,23.2c-3.5,10-16.2,24.3-35.9,48.6c-10.8,13.9-3.8,29,5.4,39.4
			c10.8,12.3,18.1,26.6,32,32.8c13.9,6.6,26.2,1.9,42.8,5c15.4,2.7,35.1,12,50.5,39.4c22.8,40.5,46.7,103.8,90.3,155.9
			c19.7,23.2,19.7,65.6,19.7,79.1c1.2,122.3-62.9,237.7-103.8,311.5c-9.7,17.4-7.3,31.7,5.4,31.7c15,0,70.2,0,79.5,0
			c10,0,16.6-10.8,17.4-22.8c6.9-100,63.3-283.3,105.7-314.5c71.4,44.8,142.4,140.5,107.6,308.4c-1.5,9.3-10,29.7,11.2,29.7
			c0,0,60.6,0,68.3,0c8.9,0,23.2-3.5,22-20.1c-3.5-65.2-58.3-203.4-72.5-284.8c-6.9-38.4,20.3-105.6,96.1-104.4v-37.2
			C545.9,774.6,489.7,801.5,477.5,881.1z M401.9,624.8c8.1-26.6,15.8-71.8,20.5-108.5c19.3,5.8,38.6,10.8,57.9,15.4
			c-13.5,83.8-39.4,107.3-53.3,113.1C416.5,649.2,393.4,651.5,401.9,624.8z M168.1,578.1c-36.7-29-68.3-6.6-81.8-23.5
			c-15.1-18.1-21.6-19.3-7.7-36.7c0,0,16.2-21.6,22.4-30.5c7-9.3,5-27,8.5-34.3c2.7-7.3,19.3-29.7,35.1-44c4.6-3.9,8.9-6.6,13.9-7.3
			c14.3-3.1,33.6,7.3,76,32.8c68.3,41.7,89.5,32.8,66,69.8c-14.3,23.9-62.9,86.8-75.2,164.4C209,647.2,186.6,592.8,168.1,578.1z"
              />
              <rect x="662.3" y="518.8" width="120.3" height="34.6" />
              <rect x="662.3" y="665.4" width="296.1" height="34.6" />
              <rect x="662.3" y="764.8" width="125.1" height="34.6" />
              <rect
                x="671.4"
                y="408.9"
                transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 1224.853 -372.4785)"
                width="254.4"
                height="34.6"
              />
              <rect x="804" y="299" width="154.4" height="34.6" />
              <rect x="777" y="987.4" width="181.3" height="34.6" />
              <rect
                x="667.1"
                y="874.7"
                transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 1686.4194 97.701)"
                width="254.4"
                height="34.6"
              />
            </g>
            <g
              fill="none"
              stroke="currentColor"
              strokeWidth="36"
              strokeMiterlimit="10"
            >
              <circle cx="1045.1" cy="1004.7" r="81.4" />
              <circle cx="1045.1" cy="682.8" r="81.4" />
              <circle cx="1045.1" cy="318.7" r="81.4" />
            </g>
          </svg>
          <div className="flex items-baseline ">
            <span className="text-lg ml-2">P</span>
            <span>HARMA</span>
            <span className="text-lg ml-2">C</span>
            <span>O</span>
            <span className="text-lg">P</span>
            <span>ILOT</span>
          </div>
        </a>
        <div className="flex justify-end">
          <button
            type="button"
            aria-label="Settings"
            className="p-2 rounded-md hover:bg-accent hover:text-text-hover transition-all duration-200"
          >
            <svg
              stroke="currentColor"
              fill="none"
              strokeWidth="32"
              viewBox="0 0 512 512"
              height="24px"
              width="24px"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill="none"
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth="32"
                d="M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"
              ></path>
            </svg>
          </button>
        </div>
        {/* Search container that takes full remaining width and centers content */}
        <div className="flex justify-center w-full">
          <div className="w-full max-w-4xl px-6">
            <Search onSearchResult={handleSearchResult} />
          </div>
        </div>
      </div>
    </header>
  )
}
